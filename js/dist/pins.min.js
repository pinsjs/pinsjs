var pins=function(n){"use strict";function r(n){return Object.keys(d).includes(n)?d[n]:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return null}}function w(n){return null==n}function x(n,e){var t=r("getOption")(n);return w(t)?e:t}function t(n){return n.filter(function(n,e,t){return t.indexOf(n)===e})}function o(n,e){return null!==e&&(n=n.concat(e)),n}function A(n){return Array.isArray(n)?n:[n]}function h(n){return Array.isArray(n)&&1==n.length?n[0]:n}function a(){return Object.keys(v)}function f(){return x("pins.path",N.get("userCacheDir")("pins"))}function O(){return N.get("tempfile")()}function k(n){return N.get("basename")(n)}function c(n){return N.get("readLines")(n)}function g(n,e){return N.get("writeLines")(n,e)}function u(n,e){return N.get("fileWrite")(n,e)}function j(n,e){return N.get("filePath")(n,e)}function s(n,e){return void 0===e&&(e={winslash:"\\",mustWork:!1}),e.winslash,e.mustWork,n}function C(n){return N.get("fileExists")(n)}function E(n,e,t){void 0===t&&(t={recursive:!0});var r=t.recursive;return N.get("fileCopy")(n,e,r)}function l(n){return N.get("md5")(n)}function m(n,e){var t=[];return w(n)||(t=n),t.columns=e,t}function I(){return x("pins.board","local")}function p(n){var e=n.cache,t=j(e,n.name);return L.exists(t)||L.create(t,{recursive:!0}),s(t,{mustWork:!1})}function S(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=null,r=null;try{r=n[n.length-1]()}catch(n){t=n}for(var i=0;i<n.length-2;i++)n[i]();if(null!==t)throw t;return r}function F(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];x("pins.verbose",!0)&&N.get("pinLog")(n.join(""))}var d={},N={get:r,set:function(n,e){d[n]=e}},v={},L=Object.freeze({create:function(n,e){void 0===e&&(e={recursive:!1});e.recursive;return N.get("dirCreate")(n)},exists:function(n){return N.get("dirExists")(n)},list:function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return N.get("dirList")(function(n){if(Array.isArray(n)){if(1!=n.length)throw new Error("Array has more than one element but expecting only one");n=n[0]}return n}(n))},remove:function(e){for(var n=[],t=arguments.length-1;0<t--;)n[t]=arguments[t+1];return(e=A(e)).map(function(n){return N.get("dirRemove")(e)})},zip:function(n,e,t){for(var r=[],i=arguments.length-3;0<i--;)r[i]=arguments[i+3];return N.get("dirZip")(n,n,t)}}),b=Object.freeze({filePathSansExt:function(n){return n.replace(/\.[^/.]+$/,"")},fileExt:function(n){return n.match(/\.[^/.]+$/,"")[0]}});function e(n){return null==n}var y={isNothing:e,isObject:function(n){return"object"==typeof n&&null!==n},toArray:function(n){return Array.isArray(n)?n:e(n)?[]:[n]},repeat:function(n,e){for(var t="",r=0;r<e;r+=1)t+=n;return t},isNegativeZero:function(n){return 0===n&&Number.NEGATIVE_INFINITY===1/n},extend:function(n,e){var t,r,i,o;if(e)for(t=0,r=(o=Object.keys(e)).length;t<r;t+=1)n[i=o[t]]=e[i];return n}};function _(n,e){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((_.prototype=Object.create(Error.prototype)).constructor=_).prototype.toString=function(n){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!n&&this.mark&&(e+=" "+this.mark.toString()),e};var M=_;function P(n,e,t,r,i){this.name=n,this.buffer=e,this.position=t,this.line=r,this.column=i}P.prototype.getSnippet=function(n,e){var t,r,i,o,a;if(!this.buffer)return null;for(n=n||4,e=e||75,t="",r=this.position;0<r&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(--r,this.position-r>e/2-1){t=" ... ",r+=5;break}for(i="",o=this.position;o<this.buffer.length&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>e/2-1){i=" ... ",o-=5;break}return a=this.buffer.slice(r,o),y.repeat(" ",n)+t+a+i+"\n"+y.repeat(" ",n+this.position-r+t.length)+"^"},P.prototype.toString=function(n){var e,t="";return this.name&&(t+='in "'+this.name+'" '),t+="at line "+(this.line+1)+", column "+(this.column+1),n||(e=this.getSnippet())&&(t+=":\n"+e),t};var T=P,D=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],R=["scalar","sequence","mapping"];var U=function(e,n){var t,r;if(n=n||{},Object.keys(n).forEach(function(n){if(-1===D.indexOf(n))throw new M('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(n){return n},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=(t=n.styleAliases||null,r={},null!==t&&Object.keys(t).forEach(function(e){t[e].forEach(function(n){r[String(n)]=e})}),r),-1===R.indexOf(this.kind))throw new M('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function z(n,e,r){var i=[];return n.include.forEach(function(n){r=z(n,e,r)}),n[e].forEach(function(t){r.forEach(function(n,e){n.tag===t.tag&&n.kind===t.kind&&i.push(e)}),r.push(t)}),r.filter(function(n,e){return-1===i.indexOf(e)})}function $(n){this.include=n.include||[],this.implicit=n.implicit||[],this.explicit=n.explicit||[],this.implicit.forEach(function(n){if(n.loadKind&&"scalar"!==n.loadKind)throw new M("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=z(this,"implicit",[]),this.compiledExplicit=z(this,"explicit",[]),this.compiledTypeMap=function(){var n,e,t=arguments,r={scalar:{},sequence:{},mapping:{},fallback:{}};function i(n){r[n.kind][n.tag]=r.fallback[n.tag]=n}for(n=0,e=arguments.length;n<e;n+=1)t[n].forEach(i);return r}(this.compiledImplicit,this.compiledExplicit)}$.DEFAULT=null,$.create=function(n,e){var t,r;switch(arguments.length){case 1:t=$.DEFAULT,r=n;break;case 2:t=n,r=e;break;default:throw new M("Wrong number of arguments for Schema.create function")}if(t=y.toArray(t),r=y.toArray(r),!t.every(function(n){return n instanceof $}))throw new M("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof U}))throw new M("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new $({include:t,explicit:r})};var W=$,Y=new W({explicit:[new U("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return null!==n?n:""}}),new U("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return null!==n?n:[]}}),new U("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return null!==n?n:{}}})]});var V=new U("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(n){if(null===n)return!0;var e=n.length;return 1===e&&"~"===n||4===e&&("null"===n||"Null"===n||"NULL"===n)},construct:function(){return null},predicate:function(n){return null===n},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});var q=new U("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(n){if(null===n)return!1;var e=n.length;return 4===e&&("true"===n||"True"===n||"TRUE"===n)||5===e&&("false"===n||"False"===n||"FALSE"===n)},construct:function(n){return"true"===n||"True"===n||"TRUE"===n},predicate:function(n){return"[object Boolean]"===Object.prototype.toString.call(n)},represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});var B=new U("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(n){if(null===n)return!1;var e,t,r,i,o=n.length,a=0,c=!1;if(!o)return!1;if("-"!==(e=n[a])&&"+"!==e||(e=n[++a]),"0"===e){if(a+1===o)return!0;if("b"===(e=n[++a])){for(a++;a<o;a++)if("_"!==(e=n[a])){if("0"!==e&&"1"!==e)return!1;c=!0}return c&&"_"!==e}if("x"===e){for(a++;a<o;a++)if("_"!==(e=n[a])){if(!(48<=(r=n.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;c=!0}return c&&"_"!==e}for(;a<o;a++)if("_"!==(e=n[a])){if(!(48<=(t=n.charCodeAt(a))&&t<=55))return!1;c=!0}return c&&"_"!==e}if("_"===e)return!1;for(;a<o;a++)if("_"!==(e=n[a])){if(":"===e)break;if(!(48<=(i=n.charCodeAt(a))&&i<=57))return!1;c=!0}return!(!c||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(n.slice(a)))},construct:function(n){var e,t,r=n,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),e=(r=r.slice(1))[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(n){o.unshift(parseInt(n,10))}),r=0,t=1,o.forEach(function(n){r+=n*t,t*=60}),i*r):i*parseInt(r,10)},predicate:function(n){return"[object Number]"===Object.prototype.toString.call(n)&&n%1==0&&!y.isNegativeZero(n)},represent:{binary:function(n){return 0<=n?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return 0<=n?"0"+n.toString(8):"-0"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return 0<=n?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),G=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var K=/^[-+]?[0-9]+e/;var H=new W({include:[Y],implicit:[V,q,B,new U("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(n){return null!==n&&!(!G.test(n)||"_"===n[n.length-1])},construct:function(n){var e,t=n.replace(/_/g,"").toLowerCase(),r="-"===t[0]?-1:1,i=[];return 0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1==r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:0<=t.indexOf(":")?(t.split(":").forEach(function(n){i.unshift(parseFloat(n,10))}),t=0,e=1,i.forEach(function(n){t+=n*e,e*=60}),r*t):r*parseFloat(t,10)},predicate:function(n){return"[object Number]"===Object.prototype.toString.call(n)&&(n%1!=0||y.isNegativeZero(n))},represent:function(n,e){var t;if(isNaN(n))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(y.isNegativeZero(n))return"-0.0";return t=n.toString(10),K.test(t)?t.replace("e",".e"):t},defaultStyle:"lowercase"})]}),Z=new W({include:[H]}),J=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Q=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var X=new U("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(n){return null!==n&&(null!==J.exec(n)||null!==Q.exec(n))},construct:function(n){var e,t,r,i,o,a,c,u=0,s=null,l=J.exec(n);if(null===l&&(l=Q.exec(n)),null===l)throw new Error("Date resolve error");if(e=+l[1],t=l[2]-1,r=+l[3],!l[4])return new Date(Date.UTC(e,t,r));if(i=+l[4],o=+l[5],a=+l[6],l[7]){for(u=l[7].slice(0,3);u.length<3;)u+="0";u=+u}return l[9]&&(s=6e4*(60*+l[10]+ +(l[11]||0)),"-"===l[9]&&(s=-s)),c=new Date(Date.UTC(e,t,r,i,o,a,u)),s&&c.setTime(c.getTime()-s),c},instanceOf:Date,represent:function(n){return n.toISOString()}});var nn=new U("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(n){return"<<"===n||null===n}});function en(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}try{var tn=en().Buffer}catch(n){}var rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var on=new U("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(n){if(null===n)return!1;for(var e,t=0,r=n.length,i=rn,o=0;o<r;o++)if(!(64<(e=i.indexOf(n.charAt(o))))){if(e<0)return!1;t+=6}return t%8==0},construct:function(n){for(var e,t=n.replace(/[\r\n=]/g,""),r=t.length,i=rn,o=0,a=[],c=0;c<r;c++)c%4==0&&c&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(t.charAt(c));return 0==(e=r%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18==e?(a.push(o>>10&255),a.push(o>>2&255)):12==e&&a.push(o>>4&255),tn?tn.from?tn.from(a):new tn(a):a},predicate:function(n){return tn&&tn.isBuffer(n)},represent:function(n){for(var e,t="",r=0,i=n.length,o=rn,a=0;a<i;a++)a%3==0&&a&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[63&r]),r=(r<<8)+n[a];return 0==(e=i%3)?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[63&r]):2==e?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):1==e&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}}),an=Object.prototype.hasOwnProperty,cn=Object.prototype.toString;var un=new U("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(n){if(null===n)return!0;for(var e,t,r,i=[],o=n,a=0,c=o.length;a<c;a+=1){if(e=o[a],r=!1,"[object Object]"!==cn.call(e))return!1;for(t in e)if(an.call(e,t)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==i.indexOf(t))return!1;i.push(t)}return!0},construct:function(n){return null!==n?n:[]}}),sn=Object.prototype.toString;var ln=new U("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(n){if(null===n)return!0;for(var e,t,r=n,i=new Array(r.length),o=0,a=r.length;o<a;o+=1){if(e=r[o],"[object Object]"!==sn.call(e))return!1;if(1!==(t=Object.keys(e)).length)return!1;i[o]=[t[0],e[t[0]]]}return!0},construct:function(n){if(null===n)return[];for(var e,t,r=n,i=new Array(r.length),o=0,a=r.length;o<a;o+=1)e=r[o],t=Object.keys(e),i[o]=[t[0],e[t[0]]];return i}}),fn=Object.prototype.hasOwnProperty;var pn=new W({include:[Z],implicit:[X,nn],explicit:[on,un,ln,new U("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(n){if(null===n)return!0;var e,t=n;for(e in t)if(fn.call(t,e)&&null!==t[e])return!1;return!0},construct:function(n){return null!==n?n:{}}})]});var dn=new U("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(n){return void 0===n},represent:function(){return""}});var hn=new U("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(n){if(null===n)return!1;if(0===n.length)return!1;var e=n,t=/\/([gim]*)$/.exec(n),r="";if("/"===e[0]){if(t&&(r=t[1]),3<r.length)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(n){var e=n,t=/\/([gim]*)$/.exec(n),r="";return"/"===e[0]&&(t&&(r=t[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},represent:function(n){var e="/"+n.source+"/";return n.global&&(e+="g"),n.multiline&&(e+="m"),n.ignoreCase&&(e+="i"),e}});try{var gn=en()}catch(n){"undefined"!=typeof window&&(gn=window.esprima)}var mn=new U("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(n){if(null===n)return!1;try{var e="("+n+")",t=gn.parse(e,{range:!0});return"Program"!==t.type||1!==t.body.length||"ExpressionStatement"!==t.body[0].type||"ArrowFunctionExpression"!==t.body[0].expression.type&&"FunctionExpression"!==t.body[0].expression.type?!1:!0}catch(n){return!1}},construct:function(n){var e,t="("+n+")",r=gn.parse(t,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(n){i.push(n.name)}),e=r.body[0].expression.body.range,"BlockStatement"===r.body[0].expression.body.type?new Function(i,t.slice(e[0]+1,e[1]-1)):new Function(i,"return "+t.slice(e[0],e[1]))},predicate:function(n){return"[object Function]"===Object.prototype.toString.call(n)},represent:function(n){return n.toString()}}),vn=W.DEFAULT=new W({include:[pn],explicit:[dn,hn,mn]}),bn=Object.prototype.hasOwnProperty,yn=1,wn=2,xn=3,An=4,On=1,kn=2,jn=3,Cn=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,En=/[\x85\u2028\u2029]/,In=/[,\[\]\{\}]/,Sn=/^(?:!|!!|![a-z\-]+!)$/i,Fn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Nn(n){return Object.prototype.toString.call(n)}function Ln(n){return 10===n||13===n}function _n(n){return 9===n||32===n}function Mn(n){return 9===n||32===n||10===n||13===n}function Pn(n){return 44===n||91===n||93===n||123===n||125===n}function Tn(n){return 48===n?"\0":97===n?"":98===n?"\b":116===n||9===n?"\t":110===n?"\n":118===n?"\v":102===n?"\f":114===n?"\r":101===n?"":32===n?" ":34===n?'"':47===n?"/":92===n?"\\":78===n?"Â…":95===n?"Â ":76===n?"\u2028":80===n?"\u2029":""}for(var Dn=new Array(256),Rn=new Array(256),Un=0;Un<256;Un++)Dn[Un]=Tn(Un)?1:0,Rn[Un]=Tn(Un);function zn(n,e){this.input=n,this.filename=e.filename||null,this.schema=e.schema||vn,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function $n(n,e){return new M(e,new T(n.filename,n.input,n.position,n.line,n.position-n.lineStart))}function Wn(n,e){throw $n(n,e)}function Yn(n,e){n.onWarning&&n.onWarning.call(null,$n(n,e))}var Vn={YAML:function(n,e,t){var r,i,o;null!==n.version&&Wn(n,"duplication of %YAML directive"),1!==t.length&&Wn(n,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(t[0]))&&Wn(n,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&Wn(n,"unacceptable YAML version of the document"),n.version=t[0],n.checkLineBreaks=o<2,1!==o&&2!==o&&Yn(n,"unsupported YAML version of the document")},TAG:function(n,e,t){var r,i;2!==t.length&&Wn(n,"TAG directive accepts exactly two arguments"),r=t[0],i=t[1],Sn.test(r)||Wn(n,"ill-formed tag handle (first argument) of the TAG directive"),bn.call(n.tagMap,r)&&Wn(n,'there is a previously declared suffix for "'+r+'" tag handle'),Fn.test(i)||Wn(n,"ill-formed tag prefix (second argument) of the TAG directive"),n.tagMap[r]=i}};function qn(n,e,t,r){var i,o,a,c;if(e<t){if(c=n.input.slice(e,t),r)for(i=0,o=c.length;i<o;i+=1)9===(a=c.charCodeAt(i))||32<=a&&a<=1114111||Wn(n,"expected valid JSON character");else Cn.test(c)&&Wn(n,"the stream contains non-printable characters");n.result+=c}}function Bn(n,e,t,r){var i,o,a,c;for(y.isObject(t)||Wn(n,"cannot merge mappings; the provided source object is unacceptable"),a=0,c=(i=Object.keys(t)).length;a<c;a+=1)o=i[a],bn.call(e,o)||(e[o]=t[o],r[o]=!0)}function Gn(n,e,t,r,i,o,a,c){var u,s;if(Array.isArray(i))for(u=0,s=(i=Array.prototype.slice.call(i)).length;u<s;u+=1)Array.isArray(i[u])&&Wn(n,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Nn(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===Nn(i)&&(i="[object Object]"),i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(u=0,s=o.length;u<s;u+=1)Bn(n,e,o[u],t);else Bn(n,e,o,t);else n.json||bn.call(t,i)||!bn.call(e,i)||(n.line=a||n.line,n.position=c||n.position,Wn(n,"duplicated mapping key")),e[i]=o,delete t[i];return e}function Kn(n){var e=n.input.charCodeAt(n.position);10===e?n.position++:13===e?(n.position++,10===n.input.charCodeAt(n.position)&&n.position++):Wn(n,"a line break is expected"),n.line+=1,n.lineStart=n.position}function Hn(n,e,t){for(var r=0,i=n.input.charCodeAt(n.position);0!==i;){for(;_n(i);)i=n.input.charCodeAt(++n.position);if(e&&35===i)for(;10!==(i=n.input.charCodeAt(++n.position))&&13!==i&&0!==i;);if(!Ln(i))break;for(Kn(n),i=n.input.charCodeAt(n.position),r++,n.lineIndent=0;32===i;)n.lineIndent++,i=n.input.charCodeAt(++n.position)}return-1!==t&&0!==r&&n.lineIndent<t&&Yn(n,"deficient indentation"),r}function Zn(n){var e=n.position,t=n.input.charCodeAt(e);return 45!==t&&46!==t||t!==n.input.charCodeAt(e+1)||t!==n.input.charCodeAt(e+2)||(e+=3,0!==(t=n.input.charCodeAt(e))&&!Mn(t))?void 0:1}function Jn(n,e){1===e?n.result+=" ":1<e&&(n.result+=y.repeat("\n",e-1))}function Qn(n,e){var t,r,i,o,a,c,u,s,l,f=n.input.charCodeAt(n.position);if(34===f){for(n.kind="scalar",n.result="",n.position++,t=r=n.position;0!==(f=n.input.charCodeAt(n.position));){if(34===f)return qn(n,t,n.position,!0),n.position++,1;if(92===f){if(qn(n,t,n.position,!0),Ln(f=n.input.charCodeAt(++n.position)))Hn(n,!1,e);else if(f<256&&Dn[f])n.result+=Rn[f],n.position++;else if(0<(a=120===(l=f)?2:117===l?4:85===l?8:0)){for(i=a,o=0;0<i;i--)f=n.input.charCodeAt(++n.position),s=void 0,0<=(a=48<=(u=f)&&u<=57?u-48:97<=(s=32|u)&&s<=102?s-97+10:-1)?o=(o<<4)+a:Wn(n,"expected hexadecimal character");n.result+=(c=o)<=65535?String.fromCharCode(c):String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023)),n.position++}else Wn(n,"unknown escape sequence");t=r=n.position}else Ln(f)?(qn(n,t,r,!0),Jn(n,Hn(n,!1,e)),t=r=n.position):n.position===n.lineStart&&Zn(n)?Wn(n,"unexpected end of the document within a double quoted scalar"):(n.position++,r=n.position)}Wn(n,"unexpected end of the stream within a double quoted scalar")}}function Xn(n,e){var t,r,i=n.tag,o=n.anchor,a=[],c=!1;for(null!==n.anchor&&(n.anchorMap[n.anchor]=a),r=n.input.charCodeAt(n.position);0!==r&&45===r&&Mn(n.input.charCodeAt(n.position+1));)if(c=!0,n.position++,Hn(n,!0,-1)&&n.lineIndent<=e)a.push(null),r=n.input.charCodeAt(n.position);else if(t=n.line,ne(n,e,xn,!1,!0),a.push(n.result),Hn(n,!0,-1),r=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>e)&&0!==r)Wn(n,"bad indentation of a sequence entry");else if(n.lineIndent<e)break;return!!c&&(n.tag=i,n.anchor=o,n.kind="sequence",n.result=a,!0)}function ne(n,e,t,r,i){var o,a,c,u,s,l,f,p,d=1,h=!1,g=!1;if(null!==n.listener&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,o=a=c=An===t||xn===t,r&&Hn(n,!0,-1)&&(h=!0,n.lineIndent>e?d=1:n.lineIndent===e?d=0:n.lineIndent<e&&(d=-1)),1===d)for(;function(n){var e,t,r,i=!1,o=!1,a=n.input.charCodeAt(n.position);if(33===a){if(null!==n.tag&&Wn(n,"duplication of a tag property"),60===(a=n.input.charCodeAt(++n.position))?(i=!0,a=n.input.charCodeAt(++n.position)):33===a?(o=!0,t="!!",a=n.input.charCodeAt(++n.position)):t="!",e=n.position,i){for(;0!==(a=n.input.charCodeAt(++n.position))&&62!==a;);n.position<n.length?(r=n.input.slice(e,n.position),a=n.input.charCodeAt(++n.position)):Wn(n,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!Mn(a);)33===a&&(o?Wn(n,"tag suffix cannot contain exclamation marks"):(t=n.input.slice(e-1,n.position+1),Sn.test(t)||Wn(n,"named tag handle cannot contain such characters"),o=!0,e=n.position+1)),a=n.input.charCodeAt(++n.position);r=n.input.slice(e,n.position),In.test(r)&&Wn(n,"tag suffix cannot contain flow indicator characters")}return r&&!Fn.test(r)&&Wn(n,"tag name cannot contain such characters: "+r),i?n.tag=r:bn.call(n.tagMap,t)?n.tag=n.tagMap[t]+r:"!"===t?n.tag="!"+r:"!!"===t?n.tag="tag:yaml.org,2002:"+r:Wn(n,'undeclared tag handle "'+t+'"'),1}}(n)||function(n){var e,t=n.input.charCodeAt(n.position);if(38===t){for(null!==n.anchor&&Wn(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),e=n.position;0!==t&&!Mn(t)&&!Pn(t);)t=n.input.charCodeAt(++n.position);return n.position===e&&Wn(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(e,n.position),1}}(n);)Hn(n,!0,-1)?(h=!0,c=o,n.lineIndent>e?d=1:n.lineIndent===e?d=0:n.lineIndent<e&&(d=-1)):c=!1;if(c=c&&(h||i),1!==d&&An!==t||(f=yn===t||wn===t?e:e+1,p=n.position-n.lineStart,1===d?c&&(Xn(n,p)||function(n,e,t){var r,i,o,a,c,u=n.tag,s=n.anchor,l={},f={},p=null,d=null,h=null,g=!1,m=!1;for(null!==n.anchor&&(n.anchorMap[n.anchor]=l),c=n.input.charCodeAt(n.position);0!==c;){if(r=n.input.charCodeAt(n.position+1),o=n.line,a=n.position,63!==c&&58!==c||!Mn(r)){if(!ne(n,t,wn,!1,!0))break;if(n.line===o){for(c=n.input.charCodeAt(n.position);_n(c);)c=n.input.charCodeAt(++n.position);if(58===c)Mn(c=n.input.charCodeAt(++n.position))||Wn(n,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Gn(n,l,f,p,d,null),p=d=h=null),i=g=!(m=!0),p=n.tag,d=n.result;else{if(!m)return n.tag=u,n.anchor=s,1;Wn(n,"can not read an implicit mapping pair; a colon is missed")}}else{if(!m)return n.tag=u,n.anchor=s,1;Wn(n,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(g&&(Gn(n,l,f,p,d,null),p=d=h=null),i=g=m=!0):g?i=!(g=!1):Wn(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,c=r;if((n.line===o||n.lineIndent>e)&&(ne(n,e,An,!0,i)&&(g?d=n.result:h=n.result),g||(Gn(n,l,f,p,d,h,o,a),p=d=h=null),Hn(n,!0,-1),c=n.input.charCodeAt(n.position)),n.lineIndent>e&&0!==c)Wn(n,"bad indentation of a mapping entry");else if(n.lineIndent<e)break}return g&&Gn(n,l,f,p,d,null),m&&(n.tag=u,n.anchor=s,n.kind="mapping",n.result=l),m}(n,p,f))||function(n,e){var t,r,i,o,a,c,u,s,l,f=!0,p=n.tag,d=n.anchor,h={},g=n.input.charCodeAt(n.position);if(91===g)c=!(i=93),r=[];else{if(123!==g)return;i=125,c=!0,r={}}for(null!==n.anchor&&(n.anchorMap[n.anchor]=r),g=n.input.charCodeAt(++n.position);0!==g;){if(Hn(n,!0,e),(g=n.input.charCodeAt(n.position))===i)return n.position++,n.tag=p,n.anchor=d,n.kind=c?"mapping":"sequence",n.result=r,1;f||Wn(n,"missed comma between flow collection entries"),l=null,o=a=!1,63===g&&Mn(n.input.charCodeAt(n.position+1))&&(o=a=!0,n.position++,Hn(n,!0,e)),t=n.line,ne(n,e,yn,!1,!0),s=n.tag,u=n.result,Hn(n,!0,e),g=n.input.charCodeAt(n.position),!a&&n.line!==t||58!==g||(o=!0,g=n.input.charCodeAt(++n.position),Hn(n,!0,e),ne(n,e,yn,!1,!0),l=n.result),c?Gn(n,r,h,s,u,l):o?r.push(Gn(n,null,h,s,u,l)):r.push(u),Hn(n,!0,e),44===(g=n.input.charCodeAt(n.position))?(f=!0,g=n.input.charCodeAt(++n.position)):f=!1}Wn(n,"unexpected end of the stream within a flow collection")}(n,f)?g=!0:(a&&function(n,e){var t,r,i,o,a=On,c=!1,u=!1,s=e,l=0,f=!1,p=n.input.charCodeAt(n.position);if(124===p)r=!1;else{if(62!==p)return;r=!0}for(n.kind="scalar",n.result="";0!==p;)if(43===(p=n.input.charCodeAt(++n.position))||45===p)On===a?a=43===p?jn:kn:Wn(n,"repeat of a chomping mode identifier");else{if(!(0<=(i=48<=(o=p)&&o<=57?o-48:-1)))break;0==i?Wn(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?Wn(n,"repeat of an indentation width identifier"):(s=e+i-1,u=!0)}if(_n(p)){for(;_n(p=n.input.charCodeAt(++n.position)););if(35===p)for(;!Ln(p=n.input.charCodeAt(++n.position))&&0!==p;);}for(;0!==p;){for(Kn(n),n.lineIndent=0,p=n.input.charCodeAt(n.position);(!u||n.lineIndent<s)&&32===p;)n.lineIndent++,p=n.input.charCodeAt(++n.position);if(!u&&n.lineIndent>s&&(s=n.lineIndent),Ln(p))l++;else{if(n.lineIndent<s){a===jn?n.result+=y.repeat("\n",c?1+l:l):a===On&&c&&(n.result+="\n");break}for(r?_n(p)?(f=!0,n.result+=y.repeat("\n",c?1+l:l)):f?(f=!1,n.result+=y.repeat("\n",l+1)):0===l?c&&(n.result+=" "):n.result+=y.repeat("\n",l):n.result+=y.repeat("\n",c?1+l:l),u=c=!0,l=0,t=n.position;!Ln(p)&&0!==p;)p=n.input.charCodeAt(++n.position);qn(n,t,n.position,!1)}}return 1}(n,f)||function(n,e){var t,r,i=n.input.charCodeAt(n.position);if(39===i){for(n.kind="scalar",n.result="",n.position++,t=r=n.position;0!==(i=n.input.charCodeAt(n.position));)if(39===i){if(qn(n,t,n.position,!0),39!==(i=n.input.charCodeAt(++n.position)))return 1;t=n.position,n.position++,r=n.position}else Ln(i)?(qn(n,t,r,!0),Jn(n,Hn(n,!1,e)),t=r=n.position):n.position===n.lineStart&&Zn(n)?Wn(n,"unexpected end of the document within a single quoted scalar"):(n.position++,r=n.position);Wn(n,"unexpected end of the stream within a single quoted scalar")}}(n,f)||Qn(n,f)?g=!0:!function(n){var e,t,r=n.input.charCodeAt(n.position);if(42===r){for(r=n.input.charCodeAt(++n.position),e=n.position;0!==r&&!Mn(r)&&!Pn(r);)r=n.input.charCodeAt(++n.position);return n.position===e&&Wn(n,"name of an alias node must contain at least one character"),t=n.input.slice(e,n.position),n.anchorMap.hasOwnProperty(t)||Wn(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],Hn(n,!0,-1),1}}(n)?function(n,e,t){var r,i,o,a,c,u,s,l=n.kind,f=n.result,p=n.input.charCodeAt(n.position);if(!Mn(p)&&!Pn(p)&&35!==p&&38!==p&&42!==p&&33!==p&&124!==p&&62!==p&&39!==p&&34!==p&&37!==p&&64!==p&&96!==p&&(63!==p&&45!==p||!(Mn(r=n.input.charCodeAt(n.position+1))||t&&Pn(r)))){for(n.kind="scalar",n.result="",i=o=n.position,a=!1;0!==p;){if(58===p){if(Mn(r=n.input.charCodeAt(n.position+1))||t&&Pn(r))break}else if(35===p){if(Mn(n.input.charCodeAt(n.position-1)))break}else{if(n.position===n.lineStart&&Zn(n)||t&&Pn(p))break;if(Ln(p)){if(c=n.line,u=n.lineStart,s=n.lineIndent,Hn(n,!1,-1),n.lineIndent>=e){a=!0,p=n.input.charCodeAt(n.position);continue}n.position=o,n.line=c,n.lineStart=u,n.lineIndent=s;break}}a&&(qn(n,i,o,!1),Jn(n,n.line-c),i=o=n.position,a=!1),_n(p)||(o=n.position+1),p=n.input.charCodeAt(++n.position)}if(qn(n,i,o,!1),n.result)return 1;n.kind=l,n.result=f}}(n,f,yn===t)&&(g=!0,null===n.tag&&(n.tag="?")):(g=!0,null===n.tag&&null===n.anchor||Wn(n,"alias node should not have any properties")),null!==n.anchor&&(n.anchorMap[n.anchor]=n.result)):0===d&&(g=c&&Xn(n,p))),null!==n.tag&&"!"!==n.tag)if("?"===n.tag){for(null!==n.result&&"scalar"!==n.kind&&Wn(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),u=0,s=n.implicitTypes.length;u<s;u+=1)if((l=n.implicitTypes[u]).resolve(n.result)){n.result=l.construct(n.result),n.tag=l.tag,null!==n.anchor&&(n.anchorMap[n.anchor]=n.result);break}}else bn.call(n.typeMap[n.kind||"fallback"],n.tag)?(l=n.typeMap[n.kind||"fallback"][n.tag],null!==n.result&&l.kind!==n.kind&&Wn(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+l.kind+'", not "'+n.kind+'"'),l.resolve(n.result)?(n.result=l.construct(n.result),null!==n.anchor&&(n.anchorMap[n.anchor]=n.result)):Wn(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")):Wn(n,"unknown tag !<"+n.tag+">");return null!==n.listener&&n.listener("close",n),null!==n.tag||null!==n.anchor||g}function ee(n,e){e=e||{},0!==(n=String(n)).length&&(10!==n.charCodeAt(n.length-1)&&13!==n.charCodeAt(n.length-1)&&(n+="\n"),65279===n.charCodeAt(0)&&(n=n.slice(1)));var t=new zn(n,e),r=n.indexOf("\0");for(-1!==r&&(t.position=r,Wn(t,"null byte is not allowed in input")),t.input+="\0";32===t.input.charCodeAt(t.position);)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)!function(n){var e,t,r,i,o=n.position,a=!1;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap={},n.anchorMap={};0!==(i=n.input.charCodeAt(n.position))&&(Hn(n,!0,-1),i=n.input.charCodeAt(n.position),!(0<n.lineIndent||37!==i));){for(a=!0,i=n.input.charCodeAt(++n.position),e=n.position;0!==i&&!Mn(i);)i=n.input.charCodeAt(++n.position);for(r=[],(t=n.input.slice(e,n.position)).length<1&&Wn(n,"directive name must not be less than one character in length");0!==i;){for(;_n(i);)i=n.input.charCodeAt(++n.position);if(35===i){for(;0!==(i=n.input.charCodeAt(++n.position))&&!Ln(i););break}if(Ln(i))break;for(e=n.position;0!==i&&!Mn(i);)i=n.input.charCodeAt(++n.position);r.push(n.input.slice(e,n.position))}0!==i&&Kn(n),bn.call(Vn,t)?Vn[t](n,t,r):Yn(n,'unknown document directive "'+t+'"')}Hn(n,!0,-1),0===n.lineIndent&&45===n.input.charCodeAt(n.position)&&45===n.input.charCodeAt(n.position+1)&&45===n.input.charCodeAt(n.position+2)?(n.position+=3,Hn(n,!0,-1)):a&&Wn(n,"directives end mark is expected"),ne(n,n.lineIndent-1,An,!1,!0),Hn(n,!0,-1),n.checkLineBreaks&&En.test(n.input.slice(o,n.position))&&Yn(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Zn(n)?46===n.input.charCodeAt(n.position)&&(n.position+=3,Hn(n,!0,-1)):n.position<n.length-1&&Wn(n,"end of the stream or a document separator is expected")}(t);return t.documents}function te(n,e,t){null!==e&&"object"==typeof e&&void 0===t&&(t=e,e=null);var r=ee(n,t);if("function"!=typeof e)return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])}function re(n,e){var t=ee(n,e);if(0!==t.length){if(1===t.length)return t[0];throw new M("expected a single document in the stream, but found more")}}var ie={loadAll:te,load:re,safeLoadAll:function(n,e,t){return"object"==typeof e&&null!==e&&void 0===t&&(t=e,e=null),te(n,e,y.extend({schema:pn},t))},safeLoad:function(n,e){return re(n,y.extend({schema:pn},e))}},oe=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,ce=9,ue=10,se=13,le=32,fe=33,pe=34,de=35,he=37,ge=38,me=39,ve=42,be=44,ye=45,we=58,xe=61,Ae=62,Oe=63,ke=64,je=91,Ce=93,Ee=96,Ie=123,Se=124,Fe=125,Ne={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Le=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function _e(n){var e,t,r=n.toString(16).toUpperCase();if(n<=255)e="x",t=2;else if(n<=65535)e="u",t=4;else{if(!(n<=4294967295))throw new M("code point within a string may not be greater than 0xFFFFFFFF");e="U",t=8}return"\\"+e+y.repeat("0",t-r.length)+r}function Me(n){this.schema=n.schema||vn,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=y.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=function(n,e){var t,r,i,o,a,c,u;if(null===e)return{};for(t={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)a=r[i],c=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=n.compiledTypeMap.fallback[a])&&ae.call(u.styleAliases,c)&&(c=u.styleAliases[c]),t[a]=c;return t}(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Pe(n,e){for(var t,r,i=y.repeat(" ",e),o=0,a="",c=n.length;o<c;)o=-1===(t=n.indexOf("\n",o))?(r=n.slice(o),c):(r=n.slice(o,t+1),t+1),r.length&&"\n"!==r&&(a+=i),a+=r;return a}function Te(n,e){return"\n"+y.repeat(" ",n.indent*e)}function De(n){return n===le||n===ce}function Re(n){return 32<=n&&n<=126||161<=n&&n<=55295&&8232!==n&&8233!==n||57344<=n&&n<=65533&&65279!==n||65536<=n&&n<=1114111}function Ue(n,e){return Re(n)&&65279!==n&&n!==be&&n!==je&&n!==Ce&&n!==Ie&&n!==Fe&&n!==we&&(n!==de||e&&(Re(t=e)&&!De(t)&&65279!==t&&t!==se&&t!==ue));var t}function ze(n){return/^\n* /.test(n)}var $e=1,We=2,Ye=3,Ve=4,qe=5;function Be(n,e,t,r,i){var o,a,c,u,s=!1,l=!1,f=-1!==r,p=-1,d=Re(u=n.charCodeAt(0))&&65279!==u&&!De(u)&&u!==ye&&u!==Oe&&u!==we&&u!==be&&u!==je&&u!==Ce&&u!==Ie&&u!==Fe&&u!==de&&u!==ge&&u!==ve&&u!==fe&&u!==Se&&u!==xe&&u!==Ae&&u!==me&&u!==pe&&u!==he&&u!==ke&&u!==Ee&&!De(n.charCodeAt(n.length-1));if(e)for(o=0;o<n.length;o++){if(!Re(a=n.charCodeAt(o)))return qe;c=0<o?n.charCodeAt(o-1):null,d=d&&Ue(a,c)}else{for(o=0;o<n.length;o++){if((a=n.charCodeAt(o))===ue)s=!0,f&&(l=l||r<o-p-1&&" "!==n[p+1],p=o);else if(!Re(a))return qe;c=0<o?n.charCodeAt(o-1):null,d=d&&Ue(a,c)}l=l||f&&r<o-p-1&&" "!==n[p+1]}return s||l?9<t&&ze(n)?qe:l?Ve:Ye:d&&!i(n)?$e:We}function Ge(r,i,o,a){r.dump=function(){if(0===i.length)return"''";if(!r.noCompatMode&&-1!==Le.indexOf(i))return"'"+i+"'";var n=r.indent*Math.max(1,o),e=-1===r.lineWidth?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-n),t=a||-1<r.flowLevel&&o>=r.flowLevel;switch(Be(i,t,r.indent,e,function(n){return function(n,e){for(var t=0,r=n.implicitTypes.length;t<r;t+=1)if(n.implicitTypes[t].resolve(e))return!0;return!1}(r,n)})){case $e:return i;case We:return"'"+i.replace(/'/g,"''")+"'";case Ye:return"|"+Ke(i,r.indent)+He(Pe(i,n));case Ve:return">"+Ke(i,r.indent)+He(Pe(function(e,t){var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=-1!==(n=e.indexOf("\n"))?n:e.length;return i.lastIndex=n,Ze(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];for(;r=i.exec(e);){var c=r[1],u=r[2];n=" "===u[0],o+=c+(a||n||""===u?"":"\n")+Ze(u,t),a=n}return o}(i,e),n));case qe:return'"'+function(n){for(var e,t,r,i="",o=0;o<n.length;o++)55296<=(e=n.charCodeAt(o))&&e<=56319&&56320<=(t=n.charCodeAt(o+1))&&t<=57343?(i+=_e(1024*(e-55296)+t-56320+65536),o++):(r=Ne[e],i+=!r&&Re(e)?n[o]:r||_e(e));return i}(i)+'"';default:throw new M("impossible error: invalid scalar style")}}()}function Ke(n,e){var t=ze(n)?String(e):"",r="\n"===n[n.length-1];return t+(r&&("\n"===n[n.length-2]||"\n"===n)?"+":r?"":"-")+"\n"}function He(n){return"\n"===n[n.length-1]?n.slice(0,-1):n}function Ze(n,e){if(""===n||" "===n[0])return n;for(var t,r,i,o=/ [^ ]/g,a=0,c=0,u="";t=o.exec(n);)e<(i=t.index)-a&&(r=a<c?c:i,u+="\n"+n.slice(a,r),a=r+1),c=i;return u+="\n",n.length-a>e&&a<c?u+=n.slice(a,c)+"\n"+n.slice(c+1):u+=n.slice(a),u.slice(1)}function Je(n,e,t){for(var r,i,o,a=t?n.explicitTypes:n.implicitTypes,c=0,u=a.length;c<u;c+=1)if(((i=a[c]).instanceOf||i.predicate)&&(!i.instanceOf||"object"==typeof e&&e instanceof i.instanceOf)&&(!i.predicate||i.predicate(e))){if(n.tag=t?i.tag:"?",i.represent){if(o=n.styleMap[i.tag]||i.defaultStyle,"[object Function]"===oe.call(i.represent))r=i.represent(e,o);else{if(!ae.call(i.represent,o))throw new M("!<"+i.tag+'> tag resolver accepts not "'+o+'" style');r=i.represent[o](e,o)}n.dump=r}return 1}}function Qe(n,e,t,r,i,o){n.tag=null,n.dump=t,Je(n,t,!1)||Je(n,t,!0);var a=oe.call(n.dump);r=r&&(n.flowLevel<0||n.flowLevel>e);var c,u,s="[object Object]"===a||"[object Array]"===a;if(s&&(u=-1!==(c=n.duplicates.indexOf(t))),(null!==n.tag&&"?"!==n.tag||u||2!==n.indent&&0<e)&&(i=!1),u&&n.usedDuplicates[c])n.dump="*ref_"+c;else{if(s&&u&&!n.usedDuplicates[c]&&(n.usedDuplicates[c]=!0),"[object Object]"===a)r&&0!==Object.keys(n.dump).length?(function(n,e,t,r){var i,o,a,c,u,s,l="",f=n.tag,p=Object.keys(t);if(!0===n.sortKeys)p.sort();else if("function"==typeof n.sortKeys)p.sort(n.sortKeys);else if(n.sortKeys)throw new M("sortKeys must be a boolean or a function");for(i=0,o=p.length;i<o;i+=1)s="",r&&0===i||(s+=Te(n,e)),c=t[a=p[i]],Qe(n,e+1,a,!0,!0,!0)&&((u=null!==n.tag&&"?"!==n.tag||n.dump&&1024<n.dump.length)&&(n.dump&&ue===n.dump.charCodeAt(0)?s+="?":s+="? "),s+=n.dump,u&&(s+=Te(n,e)),Qe(n,e+1,c,!0,u)&&(n.dump&&ue===n.dump.charCodeAt(0)?s+=":":s+=": ",l+=s+=n.dump));n.tag=f,n.dump=l||"{}"}(n,e,n.dump,i),u&&(n.dump="&ref_"+c+n.dump)):(function(n,e,t){for(var r,i,o,a="",c=n.tag,u=Object.keys(t),s=0,l=u.length;s<l;s+=1)o="",0!==s&&(o+=", "),n.condenseFlow&&(o+='"'),i=t[r=u[s]],Qe(n,e,r,!1,!1)&&(1024<n.dump.length&&(o+="? "),o+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Qe(n,e,i,!1,!1)&&(a+=o+=n.dump));n.tag=c,n.dump="{"+a+"}"}(n,e,n.dump),u&&(n.dump="&ref_"+c+" "+n.dump));else if("[object Array]"===a){var l=n.noArrayIndent&&0<e?e-1:e;r&&0!==n.dump.length?(function(n,e,t,r){for(var i="",o=n.tag,a=0,c=t.length;a<c;a+=1)Qe(n,e+1,t[a],!0,!0)&&(r&&0===a||(i+=Te(n,e)),n.dump&&ue===n.dump.charCodeAt(0)?i+="-":i+="- ",i+=n.dump);n.tag=o,n.dump=i||"[]"}(n,l,n.dump,i),u&&(n.dump="&ref_"+c+n.dump)):(function(n,e,t){for(var r="",i=n.tag,o=0,a=t.length;o<a;o+=1)Qe(n,e,t[o],!1,!1)&&(0!==o&&(r+=","+(n.condenseFlow?"":" ")),r+=n.dump);n.tag=i,n.dump="["+r+"]"}(n,l,n.dump),u&&(n.dump="&ref_"+c+" "+n.dump))}else{if("[object String]"!==a){if(n.skipInvalid)return;throw new M("unacceptable kind of an object to dump "+a)}"?"!==n.tag&&Ge(n,n.dump,e,o)}null!==n.tag&&"?"!==n.tag&&(n.dump="!<"+n.tag+"> "+n.dump)}return 1}function Xe(n,e){var t,r,i=[],o=[];for(!function n(e,t,r){var i,o,a;if(null!==e&&"object"==typeof e)if(-1!==(o=t.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(t.push(e),Array.isArray(e))for(o=0,a=e.length;o<a;o+=1)n(e[o],t,r);else for(i=Object.keys(e),o=0,a=i.length;o<a;o+=1)n(e[i[o]],t,r)}(n,i,o),t=0,r=o.length;t<r;t+=1)e.duplicates.push(i[o[t]]);e.usedDuplicates=new Array(r)}function nt(n,e){var t=new Me(e=e||{});return t.noRefs||Xe(n,t),Qe(t,0,n,!0,!0)?t.dump+"\n":""}var et={dump:nt,safeDump:function(n,e){return nt(n,y.extend({schema:pn},e))}};function tt(n){return function(){throw new Error("Function "+n+" is deprecated and cannot be used.")}}function rt(n){function o(n,e,t){return w(n[e])?t:n[e]}var e=n.map(function(n){var e,t,r,i={name:o(n,"name",k(n.path)),description:o(n,"description",""),type:o(n,"type","files")};return i.metadata=(e=n,t=["name","description","type"],r={},Object.assign(r,e),t.forEach(function(n){r.hasOwnProperty(n)&&delete r[n]}),r),i});return m(e,{name:"character",description:"character",type:"character"})}function it(n){return j(p(n),"data.txt")}function ot(t){var n=wt(t);return S(function(){return xt(n)},function(){var n=it(t);if(C(n)){var e=c(n).join("\n");return bt.safeLoad(e)}return[]})}function at(e,t){var n=wt(t);return S(function(){return xt(n)},function(){var n=bt.safeDump(e);g(it(t),n.split("\n"))})}function ct(n,e){var t=j(p(n),e);return L.exists(t)||L.create(t,{recursive:!0}),t}function ut(o,a,c){void 0===c&&(c=list());var n=wt(a);return S(function(){return xt(n)},function(){var n=ot(a);o=yt(o,n);var e=ct(a,o);null===n&&(n={});var t=n.map(function(n){return n.name}),r=0;for(var i in t.includes(o)?r=t.findIndex(function(n){return o==n}):n[r=n.length]={},n[r].name=o,c)Array.isArray(c[i])&&0==c[i].length||void 0===c[i]?delete n[r][i]:n[r][i]=c[i];return at(n,a),e})}function st(t,r){var n=wt(r);return S(function(){return xt(n)},function(){var n=ot(r);t=yt(t,n);var e=n.map(function(n){return n.name});if(!e.includes(t))throw F("Pin not found, pins available in registry: ",e.join(", ")),new Error("Pin '"+t+"' not found in '"+r.name+"' board.");return n[e.findIndex(function(n){return n==t})]})}function lt(n,e){return n=s(n,{winslash:"/",mustWork:!1}),e=s(e,{winslash:"/",mustWork:!1}),n.startsWith(e)&&(n=n.substr(e.length+1,n.length)),n.replace("^/","")}function ft(n,e){var t=e.replace(/^https?:\/\//g,""),r=function(n,e){try{return n()}catch(n){return e(n)}}(function(){return st(t,n)||null},function(){return null});w(r)||(r.cache={},ut(t,n,{params:r}))}function pt(n){var e,t={},r=j(n,"data.txt");return C(r)&&(e=c(r).join("\n"),t=bt.safeLoad(e)),w(t.type)&&(t.type="files"),t}function dt(n,e,t){var r=Object.assign({path:t},e);!function(n){for(var e in n)w(n[e])&&delete n[e]}(r);var i=bt.safeDump(r);return g(j(n,"data.txt"),i.split("\n")),r}function ht(){return x("pins.versions.path","_versions")}function gt(n){var e,t=(t=L.list(n,{fullNames:!0})).filter(function(n){return!/(\/|\\)_versions$/g.test(n)}),r=j(ht(),1<(e=t.map(l)).length?(e=e.join(","),e=l(e)):e[0]);return s(j(s(n),r),{mustWork:!1})}function mt(n,e,t){var r,i,o,a,c,u,s,l,f,p,d=null;return f=n,void 0===p&&(p={defaultValue:!1}),(p.defaultValue?!1!==f.versions:!0===f.versions)&&(r=ct(n,e),d=pt(r).versions||[],i=gt(t),o=lt(i,t),d.some(function(n){return n===o})&&(d=d.filter(function(n){return n!==o})),L.exists(i)&&L.remove(i,{recursive:!0}),L.create(i,{recursive:!0}),a=L.list(t,{fullNames:!0}).filter(function(n){return n!=j(t,ht())}),E(a,i,{recursive:!0}),d=[o].concat(d),(c=pt(t)).versions=d,u=c,s=j(t,"data.txt"),l=bt.safeDump(u),g(s,l.split("\n"))),d}function vt(n){0<n.map(function(n){return n.replace("[^/\\\\]+$","")}).filter(function(n,e,t){return t.indexOf(n)===e}).length&&(n=n.map(function(n){return n.replace(/.*(\/|\\)/g,"")}));var e=n.map(function(n){return n.substr(0,7)});return e.filter(function(n,e,t){return t.indexOf(n)===e}).length==n.length&&(n=e),n}var bt={Type:U,Schema:W,FAILSAFE_SCHEMA:Y,JSON_SCHEMA:H,CORE_SCHEMA:Z,DEFAULT_SAFE_SCHEMA:pn,DEFAULT_FULL_SCHEMA:vn,load:ie.load,loadAll:ie.loadAll,safeLoad:ie.safeLoad,safeLoadAll:ie.safeLoadAll,dump:et.dump,safeDump:et.safeDump,YAMLException:M,MINIMAL_SCHEMA:Y,SAFE_SCHEMA:pn,DEFAULT_SCHEMA:vn,scan:tt("scan"),parse:tt("parse"),compose:tt("compose"),addConstructor:tt("addConstructor")},yt=function(n,e){var t=e.map(function(n){return n.name}),r="",r=/\//g.test(n)?paste0("^",n,"$"):".*/"+n+"$",i=t.filter(function(n){return new RegExp(r,"gi").test(n)});return 1==i.length&&(n=i),n},wt=function(n){var e,t=it(n)+".lock";return e=t,x("pins.lock.timeout",1/0),N.get("fileExists")(e)},xt=function(n){return e=n,N.get("fileExists")(e);var e},At=function(n,e){var t=p(e);return n.startsWith(t)?n:s(j(t,n),{mustWork:!1})};function Ot(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}function kt(n,e,t){return Ct[n]=Ct[n]||{},Ct[n][e]=t}function jt(n,e){for(var t,r,i=[],o=arguments.length-2;0<o--;)i[o]=arguments[o+2];var a=(e&&e.class?e.class:e.constructor&&e.constructor.name?e.constructor.name:"default").toLowerCase();if(!function(n){if(Array.isArray(n)){if(0===n.length||void 0!==n.columns)return!0;if(1===n.length&&"object"==typeof n[0])return!0;if(1<n.length){for(var e=!0,t=1;t<n.length;t++)if("object"!=typeof n[t]||n[t].length!==n[0].length){e=!1;break}return e}}return!1}(e)||(a="dataframe"),void 0!==e._content&&(e=e._content),Ct[n]&&Ct[n][a])return(t=Ct[n])[a].apply(t,[e].concat(i));if(Ct[n]&&Ct[n].default)return(r=Ct[n]).default.apply(r,[e].concat(i));throw new Error("no applicable method for '"+n+"' applied to an object of class '"+a+"'")}var Ct={};function Et(n,e){var t=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,[]);return jt.apply(void 0,["boardInitialize",n].concat(t))}function It(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];return jt.apply(void 0,["boardPinGet",n,e].concat(t))}function St(n,e){var t=e.name,r=e.board,i=e.registerCall,o=e.connect,a={name:t,board:null==r?t:r,connect:null==o?"packages"!==t:o,url:e.url,registerCall:i};return/^http:\/\/|^https:\/\//g.test(n)&&(a.url=n,a.board="datatxt",null!=t&&n!==t||(a.name=a.url.replace(/https?:\/\//g,"").replace(/\\\\..*/g,"")),a.registerCall='pins::board_register(board = "datatxt", name = "'+a.name+'", url = "'+a.url+'")'),null==a.name&&(a.name=n),null==a.board&&(a.board=n),a}function Ft(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];return n=_t(n),N.get("uiViewerRegister")(n,e),n}function Nt(){var n=o(["local","packages"],I()),e=o(a(),n);return t(e)}function Lt(n){r("uiViewerUpdated")()}var _t=function(e){w(e)&&(e=I());var n='pins::board_register(board = "'+e+'")';if(!a().includes(e)){var t=St(e,{});null!==t.registerCall&&(n=t.registerCall),e=t.name;try{Mt(t.board,{name:t.name,connect:t.connect,registerCall:n,url:t.url})}catch(n){F("Failed to register board "+e+": "+n.toString())}if(!a().includes(e))throw"Board '"+e+"' not a board, available boards: "+Nt().join(", ")}return v[e]},Mt=function(n,e){var t=e.name,r=e.cache,i=e.versions,o=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,["name","cache","versions"]);null==t&&(t=n),null==r&&(r=f());var a,c,u,s,l=St(n,{board:n,name:t,registerCall:o.registerCall,connect:o.connect,url:o.url});return o.url=l.url,n=function(n,e,t,r){for(var i=[],o=arguments.length-4;0<o--;)i[o]=arguments[o+4];if(null==t)throw new Error("Please specify the 'cache' parameter.");return n=Et(n={board:n,name:e,cache:t,versions:r,class:n},Object.assign.apply(Object,[{cache:t,versions:r}].concat(i)))}(l.board,l.name,r,i,o),a=l.name,c=n,v[a]=c,null==l.registerCall&&(l.registerCall=(u=n.name,s=l.name,N.get("boardRegisterCode")(u,s))),!1!==l.connect&&Ft(n.name,l.registerCall),l.name};function Pt(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}function Tt(n,e){var t=e.board,r=e.cache,i=e.extract,o=e.version,a=e.files,c=e.signature,u=Pt(e,["board","cache","extract","version","files","signature"]);if(w(t)){var s=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];try{return It.apply(void 0,n)}catch(n){return null}},l=s(_t(null),n,{version:o});if(w(l)&&w(t))for(var f in Nt())if(r||ft(f,n),l=s(_t(f),n,{extract:i,version:o}),!w(l)){F("Found pin "+n+" in board "+f);break}if(w(l))throw new Error("Failed to retrieve '"+n+"' pin.")}else r||ft(t,n),l=It(_t(t),n,Object.assign.apply(Object,[{extract:i,version:o}].concat(u)));var p=pt(l);w(p.type)&&(p.type="files");var d=A(l).filter(function(n){return!new RegExp("^"+ht()).test(n)}),d=L.list(d,{fullNames:!0});if("files"==p.type&&1<d.length&&(d=d.filter(function(n){return!/\/data\.txt$/g.test(n)})),!w(c)){pinVersionSignature(d);if(c!==pin_signature)throw new Error("Pin signature '"+pin_signature+"' does not match given signature.")}return a?h(d):zt({_content:l,class:p.type})}function Dt(e,n){var t,r=n.board,i=n.name,o=n.extended,a=n.metadata,c=Pt(n,["board","name","extended","metadata"]);!w(r)&&0!=r.length||(r=Nt()),e="string"==typeof(t=e)?function(n){void 0===n&&(n="");var e=n.split("/"),t=e[0];return e.pop(),{name:t,owner:e.join("/")}}(t).name:t,w(e)&&!w(i)&&(e=i);var u,s,l,f=m(null,{name:"character",description:"character",type:"character",metadata:"character",board:"character"}),r=A(r);for(var p in r){var d=r[p],h=_t(d),g=null;try{g=function(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];return jt.apply(void 0,["boardPinFind",n,e].concat(t))}(h,e,Object.assign.apply(Object,[{name:i,extended:o}].concat(c)))}catch(n){F("Error searching '"+d+"' board: "+n),g=m(null,{name:"character",description:"character",rows:"numeric",cols:"numeric",class:"numeric"})}!0===o&&(g=g.map(function(n){return n.hasOwnProperty("metadata")&&(Object.assign(n,n.metadata),delete n.metadata),n})),0<g.length&&(g=function(n,r){var e=n.map(function(n,e){var t={};return Object.assign(t,n),Object.assign(t,r[e]),t}),t=Object.assign({},n.columns);return Object.assign(t,r.columns),m(e,t)}(g,m(g.map(function(n){return Object.assign(n,{board:d})}),{board:"character"})),s=g,l=void 0,(l=[].concat(u=f).concat(s)).columns={},Object.assign(l.columns,u.columns),Object.assign(l.columns,s.columns),f=l)}return w(e)||(f=f.filter(function(n){return n.name==e||!w(n.description)&&new RegExp(e,"i").test(n.description)})),a||(f=function(n,t){var e={};Object.assign(e,n.columns),Object.keys(e).includes(t)&&delete e[t];var r=n.map(function(n){var e={};return Object.assign(e,n),Object.keys(e).includes(t)&&delete e[t],e});return m(r,e)}(f,"metadata")),w(i)||0<(f=f.filter(function(n){return new RegExp("(.*/)?"+i+"$").test(n.name)})).length&&(f=f.filter(function(n,e){return 0===e})),f=f.sort(function(n,e){return n.name<n.name})}function Rt(n,e){var t=k(n),r=new Error("Can't auto-generate pin name from object, please specify the 'name' parameter.");if(!t)throw r;var i=t.replace(/[^a-zA-Z0-9-]/g,"-").replace(/^-*|-*$/g,"").replace(/-+/g,"-");if(!i)throw r;return e===$t.kaggle&&i.length<5?i+"-pin":i}function Ut(i,e){var n,t=["rows","cols","name","description"];return(w(n=e)?[]:Object.keys(n)).forEach(function(n){var r;"columns"===n?(r=["name","type"],Array.isArray(i.columns)&&(i.columns=i.columns.map(function(n,e){return{name:Object.keys(i.columns)[e],type:i.columns[e]}})),e.columns.forEach(function(t){var e=metadata$columns.filter(function(n,e){return i.columns[e].name===t.name});1==e.length&&Object.keys(t).forEach(function(n){r.includes(n)||(i.columns[e][n]=t[n])})})):t.includes(n)||(i[n]=e[n])}),i}var zt=function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return jt.apply(void 0,["pinLoad",n].concat(e))},$t=Object.freeze({kaggle:"kaggle"});function Wt(n,e){var t=Object.assign({retrieve:!0},e),u=t.path,s=t.description,l=t.type,f=t.metadata,p=t.extract,d=t.retrieve,h=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(t,["path","description","type","metadata","extract","retrieve"]),u=A(u),g=h.customMetadata,m=h.zip;w(p)&&(p=!0);var v=_t(n),b=e.name||function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];for(var r=[],i=0;i>n.length;i++)r.push(fun.apply(void 0,[n[i]].concat(e)));return r}(pinPath);F("Storing "+b+" into board "+v.name+" with type "+l),h.cache||ft(v,b),u=u.filter(function(n){return!/data\.txt/g.test(n)});var y=O();return L.create(y),S(function(){return unlink(y,{recursive:!0})},function(){1==u.length&&/^http/g.test(u)&&!/\\.[a-z]{2,4}$/g.test(u)&&x("pins.search.datatxt",!0)&&(datatxtPath=j(u,"data.txt"),localPath=pinDownload(datatxtPath,b,I(),{canFail:!0}),is.null(local_path)||(manifest=pt(localPath),u=u+"/"+manifest[u],p=!1));var n=!1;if(!0===m){var t=function(n){var e=n[0];return function(n,e){for(i in n)if(!e(i))return!1;return!0}(n,function(n){return startsWith(n)})||e===filesystem.dirname(e)?e:t(filesystem.dirname(e[0]))},e=t(u);L.zip(e.map(function(n){return n.replace(common_path+"/","")}),j(y,"data.zip"),e),n=!0}else for(var r=0;r<u.length;r++){var o={somethingChanged:!0},a=u[r];if(/^http/g.test(a)&&(a=pin_download(a,b,I(),Object.assign({extract:p,details:o,canFail:!0},opt)),!w(o.error))){try{Tt(b,{board:I()})}catch(n){}throw new Error(o.error)}if(o.somethingChanged){var c=function(n,e){var t;C(n)&&(t=n,N.get("fileSize")(t)>=x("pins.link.size",2))?(j(e,k(n)),N.get("createLink")(j)):E(n,e,{recursive:!0})};if(L.exists(a))for(entry in L.list(a,{fullNames:!0}))c(entry,store_path);else c(a,y);n=!0}}return n&&(C(j(y,"data.txt"))||(f.description=s,f.type=l,f=Ut(f,g),dt(y,f,L.list(y,{recursive:!0}))),function(n,e,t,r){for(var i=[],o=arguments.length-4;0<o--;)i[o]=arguments[o+4];return jt.apply(void 0,["boardPinCreate",n,e,t,r].concat(i))}.apply(void 0,[v,y,b,f].concat(h)),Lt()),d?Tt(b,Object.assign.apply(Object,[{board:v.name}].concat(h))):null})}function Yt(t){if(!t.url)throw new Error("Invalid 'url' in '"+t.name+"' board.");var n="data.txt";t.indexRandomize&&(n+="?rand="+Math.round(1e8*Math.random()));var e=j(t.url,n),r=N.get("fetch");console.log(r),r(e).then(function(n){return n.text()}).then(function(n){var e=O();L.create(e),u(n,e);!function(n,e){if(void 0===e&&(e=!1),!C(n)&&e)return;var t=c(n).join("\n");bt.safeLoad(t)}(j(p(t),"data.txt"),!0)}).catch(function(n){if(t.needsIndex)throw new Error("Failed to retrieve data.txt file from "+t.url+".")})}function Vt(n,e){try{return function(n,e){var t;0<n.length&&(t=Object.keys(n[0]).join(","),g(e,t));var r=n.map(function(e){return Object.keys(e).map(function(n){return e[n]}).join(",")});g(e,r)}(n,e),0}catch(n){F("Failed to save data frame as CSV file: "+n)}}return kt("pin","default",function(n,e){void 0===e&&(e={});var t=e.description,r=e.board,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,["description","board"]),o=e.name||Rt(n,r),a=O();return L.create(a),u(JSON.stringify(n),j(a,"data.json")),Wt(r,Object.assign.apply(Object,[{},{name:o,description:t,path:a,type:"default",metadata:[]}].concat(i)))}),kt("pin","string",function(n,e){void 0===e&&(e={name:null,description:null,board:null});var t=e.name,r=e.description,i=e.board,o=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,["name","description","board"]),a=A(n),c=0<a.length?"zip":b.fileExt(a);return Wt(i,Object.assign.apply(Object,[{},{name:t,description:r,path:a,type:"files",metadata:{extension:c}}].concat(o)))}),kt("pin","dataframe",function(t,n){void 0===n&&(n={name:null,description:null,board:null});var r=n.name,i=n.description,o=n.board,a=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(n,["name","description","board"]);w(r)&&(r=Rt(t,o));var c=O();return L.create(c),u(JSON.stringify(t),j(c,"data.json")),Vt(t,j(c,"data.csv")),S(function(){return unlink(c)},function(){var n,e=(n=t).hasOwnProperty("columns")?Object.keys(n.columns):0<n.length?Object.keys(n[0]):[];t.length,e.length;return Wt(o,Object.assign.apply(Object,[{},{name:r,description:i,path:c,type:"table",metadata:[]}].concat(a)))})}),kt("pinPreview","default",function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return n}),kt("pinLoad","default",function(n){for(var e,t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];return JSON.parse((e=j(n,"data.json"),N.get("fileRead")(e)))}),kt("pinFetch","default",function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return n.path}),kt("pinLoad","files",function(n,e){!function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r])}(e,[]);return L.list(n,{recursive:!0,fullNames:!0}).filter(function(n){return!/data\.txt$/g.test(n)})}),kt("boardBrowse","default",function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return null}),kt("boardPinVersions","default",function(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];return m(null,{version:"character"})}),kt("boardInitialize","default",function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];throw new Error("Board '"+n.name+"' is not a valid board.")}),kt("boardInitialize","local",function(n,e){Ot(e,[]);return L.exists(n.cache)||L.create(n.cache,{recursive:!0}),n}),kt("boardPinCreate","local",function(n,e,t,r){for(var i=[],o=arguments.length-4;0<o--;)i[o]=arguments[o+4];mt(n,t,e);var a=ct(n,t),c=L.list(a,{fullNames:!0}).filter(function(n){return/(\/|\\)_versions/gi.test(n)});L.remove(c,{recursive:!0}),L.exists(a)||L.create(a),E(L.list(e,{fullNames:!0}),a,{recursive:!0}),r.columns=null;var u=p(n);return ut(t,n,Object.assign({path:lt(a,{basePath:u})},r))}),kt("boardPinFind","local",function(n,e,t){Ot(t,[]);var r,i,o,a,c,u,s,l,f,p=(r=e,o=wt(i=n),S(function(){return xt(o)},function(){var n=ot(i),e=rt(n);return"string"==typeof r&&0<r.length&&(e=e.filter(function(n){return new RegExp(r,"gi").test(n.name)})),e}));return 1==p.length&&(a=p[0].metadata,c=At(a.path,n),u=pt(c),l=a,w((f=u).path)||w(l.path)||/https?:\/\//g.test(l.path)||(l.path=j(l.path,f.path)),s=l=Object.assign(l,f),p[0].metadata=s),p}),kt("boardPinGet","local",function(n,e,t){var r,i=Ot(t,[]).version,o=st(e,n).path;return w(i)||((r=pt(At(o,n))).versions.includes(i)||(i=function(n,e){var t=vt(n).indexOf(e);if(-1===t)throw new Error("Version '"+e+"' is not valid, please select from pin_versions().");return n[t]}(r.versions,i)),o=j(e,i)),At(o,n)}),kt("boardPinRemove","local",function(n,e){return function(e,n,t){void 0===t&&(t=!0);var r=ot(n);e=yt(e,r);var i=r.filter(function(n){return n.name==e});if(0<i.length){i=i[0],r=r.filter(function(n){return n.name!=e});var o=At(i.path,n);return t&&L.remove(o,{recursive:!0}),at(r,n)}}(e,n)}),kt("boardPinVersions","local",function(n,e){return t=n,r=e,i=m(null,{versions:"character"}),o=ct(t,r),0<(i=pt(o).versions).length&&(i={version:i}),i;var t,r,i,o}),kt("boardInitialize","datatxt",function(e,n){var t=n.url,r=n.browseUrl,i=n.headers,o=n.bucket,a=n.indexUpdated,c=n.indexRandomize;void 0===c&&(c=!1);var u=n.needsIndex;void 0===u&&(u=!0),void 0===n.cache&&f();var s=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(n,["url","browseUrl","headers","bucket","indexUpdated","indexRandomize","needsIndex","cache"]);if(!t)throw new Error("The 'datatxt' board requires a 'url' parameter.");return e.url=t.replace(/data.txt$/g,""),e.headers=i,e.needsIndex=u,e.browseUrl=r||t,e.indexUpdated=a,e.bucket=o,e.indexRandomize=c,Object.keys(s).forEach(function(n){e[n]=s[n]}),Yt(e),e}),n.boardConnect=Ft,n.boardDeregister=function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];throw"NYI"},n.boardDisconnect=function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];throw"NYI"},n.boardGet=_t,n.boardList=Nt,n.boardRegister=Mt,n.callbacks=N,n.pin=function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return h(jt.apply(void 0,["pin",n].concat(e)))},n.pinFetch=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return jt.apply(void 0,["pinFetch"].concat(n))},n.pinFind=Dt,n.pinGet=Tt,n.pinInfo=function(n,e){var t,r=e.board,i=e.extended,o=e.metadata,a=e.signature,c=(Pt(e,["board","extended","metadata","signature"]),function(n,e,t,r){var i=Dt(null,{name:n,board:e,metadata:!1,extended:!1});if(0==i.length)throw new Error("Pin '"+n+"' was not found.");if(1<i.length)throw new Error("Pin '"+n+"' was found in multiple boards: "+i.board.join(",")+".");return e=i[0].board,(i=Dt(null,{name:n,board:e,metadata:r,extended:t}))[0]}(n,r,i,o)),r=c.board,o=[];Object.keys(c).includes("metadata")&&0<c.metadata.columns.length&&(o=c.metadata),a&&(t=Tt(n,{board:r,files:!0}),c.signature=pinVersionSignature(t));var u=Object.assign(c);for(n in delete u.metadata,[].concat(Object.keys(u)).forEach(function(n){u[n]instanceof Array&&1==u[n].length&&u[n][0]instanceof Array&&!(0<u[n][0].length)&&delete u[n]}),o)u[n]=o[n];return Object.assign(u,{class:"pin_info"})},n.pinLoad=zt,n.pinPreview=function(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return jt.apply(void 0,["pinPreview",n].concat(e))},n.pinRemove=function(n,e){return function(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];jt.apply(void 0,["boardPinRemove",n,e].concat(t))}(e=_t(e),n),Lt(),null},n.pinVersions=function(n,e){var t=e.board,r=e.full;void 0===r&&(r=!1);Pt(e,["board","full"]);var i=function(n,e){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];return jt.apply(void 0,["boardPinVersions",n,e].concat(t))}(_t(t),n);return r||(i.version=vt(i.version)),i},n}({});
//# sourceMappingURL=pins.min.js.map
